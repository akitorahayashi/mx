schema_version: 1

id: "cdcp01"
issue_id: ""
created_at: "2026-02-02"
author_role: "data_arch"
confidence: "high"

title: "Context file domain logic coupled to touch command"
statement: |
  Logic for managing project context files (path resolution, aliases, validation) is implemented in `src/commands/touch.rs` but reused by `cat`, `clean`, and `copy_snippet` commands. This creates a dependency on a command module for domain logic, violating separation of concerns.

evidence:
  - path: "src/commands/touch.rs"
    loc:
      - "fn resolve_path"
      - "fn validate_path"
      - "static ALIASES"
    note: "Defines core context file logic but is a command module."
  - path: "src/commands/cat.rs"
    loc:
      - "use crate::commands::touch::{...}"
    note: "Imports context logic from touch command."
  - path: "src/commands/clean.rs"
    loc:
      - "use crate::commands::touch::{...}"
    note: "Imports context logic from touch command."
  - path: "src/commands/copy_snippet.rs"
    loc:
      - "use crate::commands::touch::{...}"
    note: "Imports context logic from touch command."

tags:
  - "coupling"
  - "domain-logic"
  - "context-files"
